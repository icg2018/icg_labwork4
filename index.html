<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <title>Laba 2</title>
    <link rel="stylesheet" href="https://www.x3dom.org/download/dev/x3dom.css" />
    <script src="https://www.x3dom.org/download/dev/x3dom-full.js"></script>
  </head>
  <body>
    <X3D style="left:0px; top:0px; width:100%; height:100%; border:none">
      <Scene>
        <Background skyColor="0 0 0"></Background>

        <NavigationInfo headlight="false" avatarSize="0.25 1.9 0.3" type="WALK" speed="1">
        </NavigationInfo>

        <Collision enabled="true" bboxSize="0.5 0.5 1.9">
        </Collision>

        <Viewpoint position="0 0 7">
        </Viewpoint>

        <PointLight  location="0 5 0" radius="30" color="1 0 0" intensity="1">
        </PointLight>

        <SpotLight direction="0 -1 0" location="0 5 1" cutOffAngle="0.5" beamWidth="0.3" intensity="0.7">
        </SpotLight>

        <SpotLight direction="0 -1 0" location="-3 5 -2" cutOffAngle="0.5" beamWidth="0.3" intensity="0.7">
        </SpotLight>

        <SpotLight direction="0 -1 0" location="3 5 -2" cutOffAngle="0.5" beamWidth="0.3" intensity="0.7">
        </SpotLight>

        <DirectionalLight direction="0 -1 0" location="0 5 0" color="0 1 0" intensity="0.7">
        </DirectionalLight>

        <Fog color="0 0 0" visibilityRange="20">
        </Fog>
        <!-- Корабль -->
        <Group DEF="ship">
          <Transform translation="0 2 0" scale="0.5 0.5 0.5">
            <!-- Огни  -->
            <Shape DEF="lights">
              <PointSet>
                <Color color="1 0 0, 0 1 0, 1 1 0, 0 1 1,
                              1 1 0, 0 1 0, 1 0 1, 1 1 1"></Color>
                <Coordinate point="-0.5 1 -1, -1 0.3 1, -1 0.7 -1, 1 2 0,
                                   -0.7 2 -0.3, -1 2 0.4, 1 0.8 0.3, 0 2 0"></Coordinate>
              </PointSet>
            </Shape>

            <Transform rotation="0 1 0 0.7">
              <Shape USE="lights"></Shape>
            </Transform>

            <!-- Кристалл  -->
            <Inline url="crystal.x3d"></Inline>
          </Transform>

          <Transform translation="0 -2 2" scale="2 1 2">
            <Shape>
              <IndexedFaceSet ccw="true" colorPerVertex="true" solid="false"
                              coordIndex="0 1 2 -1
                                          0 1 3 -1
                                          1 2 4 5 3 -1
                                          0 2 4 6 -1
                                          0 3 5 6 -1
                                          4 5 6 -1"
                              colorIndex="0 2 3 -1
                                          0 2 4 -1
                                          1 0 2 3 5 -1
                                          0 2 5 3 -1
                                          0 2 5 3 -1
                                          0 1 2 -1">
                <Coordinate point="0 0 0, 0 1 1, -0.5 1 0,
                                   0.5 1 0, -0.5 1 -2, 0.5 1 -2,
                                   0 0 -1.5">
                </Coordinate>
                <Color color="0 1 1, 1 0 1, 1 1 0, 0 1 0, 1 1 1, 0.7 0.3 0.1"></Color>
              </IndexedFaceSet>
            </Shape>
          </Transform>

          <Transform translation="0 -1 0" scale="2 3 2">
            <Shape>
              <Appearance>
                <TextureTransform scale="1.5 1.5"></TextureTransform>
                <ImageTexture url="cat.jpg" repeatS="True" repeatT="True"></ImageTexture>
              </Appearance>
              <IndexedTriangleSet solid="false" index="0 1 2">
                <Coordinate point="0 1 0, 0 0 1, 0 0 -1">
                </Coordinate>
              </IndexedTriangleSet>
            </Shape>
          </Transform>
        </Group>

        <!-- Экземпляры корабля -->
        <Transform translation="3 0 -3" rotation="0 1 0 0.7">
          <Group USE="ship"></Group>
        </Transform>

        <Transform translation="-3 0 -3" rotation="0 1 0 -0.7">
          <Group USE="ship"></Group>
        </Transform>
        <!-- Чайка -->
        <Transform translation="2 0 2">
          <Anchor url="https://habr.com/ru/">
            <Shape>
              <Appearance>
                <Material diffuseColor="1 1 1" specularColor="0 0 0"></Material>
              </Appearance>
              <IndexedTriangleStripSet solid="false" index="0 1 2 0 2 3">
                <Coordinate point="0 0 0, -0.5 0.3 0, 0 0.5 0.5, 0.5 0.3 0">
                </Coordinate>
              </IndexedTriangleStripSet>
            </Shape>
          </Anchor>
        </Transform>

        <Transform translation="-15 -2 -20">
          <Shape>
            <Appearance>
              <Material diffuseColor="0.3 0.3 0.7" specularColor="0 0 0"></Material>
            </Appearance>
            <ElevationGrid xDimension="7" zDimension="7" xSpacing="5.0" zSpacing="5.0" solid="false"
                            height=
                                    "1.2, 1, 0.1, 0.5, 1, 1.5,0,
                                    1, 0.5, 0.25, 0.3, 0.5, 1,0,
                                    0.5, 0.2, 0, 0.1, 0.2, 0.5,0,
                                    0.5, 0.15, 0, 0, 0.25, 0.5,0,
                                    1, 0.5, 0.16, 0.25, 0.5, 1,0,
                                    1.5, 1, 0.4, 0.5, 1, 1.5, 0,
                                    0.6, 1.2, 1, 0.2, 1.1, 1, 0">
            </ElevationGrid>
          </Shape>
        </Transform>

      </Scene>
    </X3D>
  </body>
</html>
